"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[60096],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,k=c["".concat(s,".").concat(m)]||c[m]||u[m]||o;return n?r.createElement(k,i(i({ref:t},d),{},{components:n})):r.createElement(k,i({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},56920:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>u});n(67294);var r=n(3905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const l={id:"live-provider",title:"Live Provider",sidebar_label:"Live Provider"},s=void 0,p={unversionedId:"api-reference/core/providers/live-provider",id:"api-reference/core/providers/live-provider",title:"Live Provider",description:"Overview",source:"@site/docs/api-reference/core/providers/live-provider.md",sourceDirName:"api-reference/core/providers",slug:"/api-reference/core/providers/live-provider",permalink:"/docs/api-reference/core/providers/live-provider",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/master/documentation/docs/api-reference/core/providers/live-provider.md",tags:[],version:"current",lastUpdatedBy:"\xd6mer Faruk APLAK",lastUpdatedAt:1701087920,formattedLastUpdatedAt:"Nov 27, 2023",frontMatter:{id:"live-provider",title:"Live Provider",sidebar_label:"Live Provider"},sidebar:"someSidebar",previous:{title:"i18n Provider",permalink:"/docs/api-reference/core/providers/i18n-provider"},next:{title:"Notification Provider",permalink:"/docs/api-reference/core/providers/notification-provider"}},d={},u=[{value:"Overview",id:"overview",level:2},{value:"Built-in Integrations",id:"built-in-integrations",level:2},{value:"Live Mode Options",id:"live-mode-options",level:2},{value:"auto",id:"auto",level:3},{value:"manual",id:"manual",level:3},{value:"off",id:"off",level:3},{value:"onLiveEvent",id:"onliveevent",level:2},{value:"With <code>&lt;Refine&gt;</code> component",id:"with-refine-component",level:3},{value:"Integrated Hooks",id:"integrated-hooks",level:2},{value:"useList",id:"uselist",level:3},{value:"<code>useOne</code>",id:"useone",level:3},{value:"<code>useMany</code>",id:"usemany",level:3},{value:"Publish Events from Hooks",id:"publish-events-from-hooks",level:2},{value:"<code>useCreate</code>",id:"usecreate",level:3},{value:"<code>useCreateMany</code>",id:"usecreatemany",level:3},{value:"<code>useDelete</code>",id:"usedelete",level:3},{value:"<code>useDeleteMany</code>",id:"usedeletemany",level:3},{value:"<code>useUpdate</code>",id:"useupdate",level:3},{value:"<code>useUpdateMany</code>",id:"useupdatemany",level:3},{value:"Publishing Events from the Client Side",id:"publishing-events-from-the-client-side",level:2}],c={toc:u};function m(e){var{components:t}=e,n=i(e,["components"]);return(0,r.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},c,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Live Provider")," is ",(0,r.kt)("strong",{parentName:"p"},"Refine"),"'s built-in provider that enables real-time updates and interactions between the server and the client. ",(0,r.kt)("strong",{parentName:"p"},"Refine")," being agnostic as always allows you to integrate any solution of your choice"),(0,r.kt)("p",null,"A live provider must include the following methods:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const liveProvider = {\n    subscribe: ({ channel, params: { ids }, types, callback, meta }) => any,\n    unsubscribe: (subscription) => void,\n    publish?: ({ channel, type, payload, date, meta }) => void,\n};\n")),(0,r.kt)("h2",{id:"built-in-integrations"},"Built-in Integrations"),(0,r.kt)("p",null,"We have the following built-in integrations which you can use out-of-the-box."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"refine")," includes some out-of-the-box live providers to use in your projects such as:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Ably")," ","\u2192"," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/ably/src/index.ts"},"Source Code")," - ",(0,r.kt)("a",{parentName:"li",href:"https://codesandbox.io/embed/github/refinedev/refine/tree/master/examples/live-provider-ably/?view=preview&theme=dark&codemirror=1"},"Demo")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Supabase")," ","\u2192"," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/supabase/src/index.ts#L187"},"Source Code")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Appwrite")," ","\u2192"," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/appwrite/src/index.ts#L252"},"Source Code")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Hasura")," ","\u2192"," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/hasura/src/liveProvider/index.ts#L16"},"Source Code")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Nhost")," ","\u2192"," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/nhost/src/liveProvider/index.ts#L16"},"Source Code"))),(0,r.kt)("h2",{id:"live-mode-options"},"Live Mode Options"),(0,r.kt)("p",null,"To activate live features in ",(0,r.kt)("strong",{parentName:"p"},"Refine"),", you need to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"liveMode")," option."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Global Configuration"),": Add liveMode to the options prop of the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine>")," component. This sets it up for your entire application, and all hooks will automatically use this by default."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'<Refine\n  liveProvider={liveProvider}\n  options={\n    // highlight-next-line\n    { liveMode: "auto" }\n  }\n/>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Hook-Specific Configuration"),": Alternatively, you can apply liveMode directly to ",(0,r.kt)("a",{parentName:"p",href:"#integrated-hooks"},"integrated hooks")," individually for more precise control. This is useful if you don't want to apply live mode globally."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'useList({ liveMode: "auto" });\n// or\nuseOne({ liveMode: "auto" });\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Priority Handling"),": If you provide ",(0,r.kt)("inlineCode",{parentName:"p"},"liveMode")," in both the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine>")," component and hooks, the config in the hook will take priority over the global ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine>")," configuration."),(0,r.kt)("h3",{id:"auto"},"auto"),(0,r.kt)("p",null,"Queries of related resources ",(0,r.kt)("strong",{parentName:"p"},"will be invalidated")," and ",(0,r.kt)("strong",{parentName:"p"},"re-fetched")," as new events from subscriptions are published."),(0,r.kt)("p",null,"For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," data of ",(0,r.kt)("inlineCode",{parentName:"p"},"useList")," hook will be re-fetched when a new event is published for ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," resource."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'const { data } = useList({ resource: "posts", liveMode: "auto" });\n')),(0,r.kt)("h3",{id:"manual"},"manual"),(0,r.kt)("p",null,"In ",(0,r.kt)("inlineCode",{parentName:"p"},"manual")," mode, queries of the related resources ",(0,r.kt)("strong",{parentName:"p"},"won't be invalidated"),". Instead, the ",(0,r.kt)("inlineCode",{parentName:"p"},"onLiveEvent")," function will be called when new events are published from the subscriptions."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"manual")," mode can be used to prevent those"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'const { data } = useList({\n  liveMode: "manual",\n  onLiveEvent: (event) => {\n    console.log(event); // { channel: "resources/posts", type: "created", payload: { ids: ["1"] }, date: new Date() }\n  },\n});\n')),(0,r.kt)("h3",{id:"off"},"off"),(0,r.kt)("p",null,"Disables live mode entirely."),(0,r.kt)("h2",{id:"onliveevent"},"onLiveEvent"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"onLiveEvent")," is called when the new event(s) are published from the subscriptions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'const { data } = useList({\n  resource: "products",\n  liveMode: "manual",\n  // Called when new event(s) are published for `products` resource.\n  onLiveEvent: (event) => {\n    console.log(event); // { channel: "resources/posts", type: "created", payload: { ids: ["1"] }, date: new Date() }\n  },\n});\n')),(0,r.kt)("h3",{id:"with-refine-component"},"With ",(0,r.kt)("inlineCode",{parentName:"h3"},"<Refine>")," component"),(0,r.kt)("p",null,"When passed to the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine>")," component, ",(0,r.kt)("inlineCode",{parentName:"p"},"onLiveEvent")," will be called for ",(0,r.kt)("strong",{parentName:"p"},"every event")," from any resource. It can be used for actions that are generally applicable to all events from active subscriptions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { Refine } from "@refinedev/core";\n\nimport { liveProvider } from "./liveProvider";\n\nconst App: React.FC = () => {\n  return (\n    <Refine\n      liveProvider={liveProvider}\n      options={{ liveMode: "auto" }}\n      onLiveEvent={(event) => {\n        // Put your own logic based on event\n      }}\n    />\n  );\n};\n')),(0,r.kt)("h2",{id:"integrated-hooks"},"Integrated Hooks"),(0,r.kt)("p",null,"Following hooks are supported by the ",(0,r.kt)("strong",{parentName:"p"},"Live Provider")," and will subscribe to their resource channels automatically."),(0,r.kt)("h3",{id:"uselist"},"useList"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'useList({ resource: "posts" });\n\n// Calls LiveProvider\'s `subscribe` method with following parameters:\n{\n    types: ["*"],\n    channel: "resources/posts"\n}\n')),(0,r.kt)("p",null,"Since the following hooks are derivative of ",(0,r.kt)("inlineCode",{parentName:"p"},"useList")," hook, they will subscribe to the same events."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Package"),(0,r.kt)("th",{parentName:"tr",align:null},"Hooks"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/core"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/core/hooks/useTable"},"useTable"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/core/hooks/useSelect/"},"useSelect"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/antd"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/table/useTable"},"useTable"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/table/useEditableTable"},"useEditableTable"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/field/useSelect"},"useSelect"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/list/useSimpleList"},"useSimpleList"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/field/useCheckboxGroup"},"useCheckboxGroup"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/field/useRadioGroup"},"useRadioGroup"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/react-table"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/packages/documentation/react-table"},"useTable"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/mui"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mui/hooks/useDataGrid/"},"useDataGrid"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mui/hooks/useAutoComplete"},"useAutoComplete"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/mantine"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mantine/hooks/useSelect"},"useSelect"))))),(0,r.kt)("h3",{id:"useone"},(0,r.kt)("inlineCode",{parentName:"h3"},"useOne")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'useOne({ resource: "posts", id: "1" });\n\n\n// Calls LiveProvider\'s `subscribe` method with following parameters:\n{\n    types: ["*"],\n    channel: "resources/posts",\n    params: { ids: ["1"] }\n}\n')),(0,r.kt)("p",null,"Since the following hooks are derivative of ",(0,r.kt)("inlineCode",{parentName:"p"},"useOne")," hook, they will subscribe to the same events."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Package"),(0,r.kt)("th",{parentName:"tr",align:null},"Hooks"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/core"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/core/hooks/show/useShow"},"useShow"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/core/hooks/useForm"},"useForm"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/antd"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/form/useForm"},"useForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/form/useModalForm"},"useModalForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/form/useDrawerForm"},"useDrawerForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/antd/hooks/form/useStepsForm"},"useStepsForm"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/mantine"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mantine/hooks/form/useForm"},"useForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mantine/hooks/form/useDrawerForm"},"useDrawerForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mantine/hooks/form/useModalForm"},"useModalForm"),", ",(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/mantine/hooks/form/useStepsForm"},"useStepsForm"))))),(0,r.kt)("h3",{id:"usemany"},(0,r.kt)("inlineCode",{parentName:"h3"},"useMany")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'useMany({ resource: "posts", ids: ["1", "2"] });\n\n// Calls LiveProvider\'s `subscribe` method with following parameters:\n{\n    types: ["*"],\n    channel: "resources/posts"\n    params: { ids: ["1", "2"] }\n}\n')),(0,r.kt)("p",null,"Since the following hooks are using ",(0,r.kt)("inlineCode",{parentName:"p"},"useMany")," hook, they will subscribe to the same events."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Package"),(0,r.kt)("th",{parentName:"tr",align:null},"Hooks"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@refinedev/core"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/api-reference/core/hooks/useSelect/"},"useSelect"))))),(0,r.kt)("h2",{id:"publish-events-from-hooks"},"Publish Events from Hooks"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"refine")," publishes these events in the hooks. Let's see the usage of hooks and what kind of events are published:"),(0,r.kt)("h3",{id:"usecreate"},(0,r.kt)("inlineCode",{parentName:"h3"},"useCreate")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useCreate();\n\nmutate({\n  resource: "posts",\n  values: {\n    title: "New Post",\n  },\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "created",\n    payload: {\n        ids: ["id-of-created-post"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h3",{id:"usecreatemany"},(0,r.kt)("inlineCode",{parentName:"h3"},"useCreateMany")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useCreateMany();\n\nmutate({\n  resource: "posts",\n  values: [\n    {\n      title: "New Post",\n    },\n    {\n      title: "Another New Post",\n    },\n  ],\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "created",\n    payload: {\n        ids: ["id-of-new-post", "id-of-another-new-post"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h3",{id:"usedelete"},(0,r.kt)("inlineCode",{parentName:"h3"},"useDelete")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useDelete();\n\nmutate({\n  resource: "posts",\n  id: "1",\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "deleted",\n    payload: {\n        ids: ["1"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h3",{id:"usedeletemany"},(0,r.kt)("inlineCode",{parentName:"h3"},"useDeleteMany")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useDeleteMany();\n\nmutate({\n  resource: "posts",\n  ids: ["1", "2"],\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "deleted",\n    payload: {\n        ids: ["1", "2"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h3",{id:"useupdate"},(0,r.kt)("inlineCode",{parentName:"h3"},"useUpdate")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useUpdate();\n\nmutate({\n  resource: "posts",\n  id: "2",\n  values: { title: "New Post Title" },\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "updated",\n    payload: {\n        ids: ["1"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h3",{id:"useupdatemany"},(0,r.kt)("inlineCode",{parentName:"h3"},"useUpdateMany")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const { mutate } = useUpdateMany();\n\nmutate({\n  resource: "posts",\n  ids: ["1", "2"],\n  values: { title: "New Post Title" },\n});\n\n// Calls Live Provider\'s publish method with following parameters:\n{\n    channel: `resources/posts`,\n    type: "updated",\n    payload: {\n        ids: ["1", "2"]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("h2",{id:"publishing-events-from-the-client-side"},"Publishing Events from the Client Side"),(0,r.kt)("p",null,"Publishing on the client side must be avoided generally. It's recommended to handle it on the server side."),(0,r.kt)("p",null,"Events published from the server must be in the following ways:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When creating a record:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'{\n    channel: `resources/${resource}`,\n    type: "created",\n    payload: {\n        ids: [id]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When deleting a record:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'{\n    channel: `resources/${resource}`,\n    type: "deleted",\n    payload: {\n        ids: [id]\n    },\n    date: new Date(),\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When updating a record:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'{\n    channel: `resources/${resource}`,\n    type: "updated",\n    payload: {\n        ids: [id]\n    },\n    date: new Date(),\n}\n')))}m.isMDXComponent=!0}}]);